@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap');



@import "tailwindcss";

/* Dark mode variant - class-based */
@custom-variant dark (&:where(.dark, .dark *));


/* Design Tokens */
@theme {
  /* Zinc color scale */
  --color-zinc-50: #fafafa;
  --color-zinc-100: #f4f4f5;
  --color-zinc-200: #e4e4e7;
  --color-zinc-300: #d4d4d8;
  --color-zinc-400: #a1a1aa;
  --color-zinc-500: #71717a;
  --color-zinc-600: #52525b;
  --color-zinc-700: #3f3f46;
  --color-zinc-800: #27272a;
  --color-zinc-900: #18181b;
  --color-zinc-950: #09090b;

  /* Semantic tokens - Light mode defaults */
  --color-background: var(--color-zinc-50);
  --color-foreground: var(--color-zinc-900);
  --color-muted: var(--color-zinc-100);
  --color-muted-foreground: var(--color-zinc-500);
  --color-border: var(--color-zinc-200);
  --color-card: white;
  --color-card-foreground: var(--color-zinc-900);
  --color-primary: var(--color-zinc-950);
  --color-primary-foreground: var(--color-zinc-50);
  --color-accent: var(--color-zinc-100);
  --color-accent-foreground: var(--color-zinc-900);
  --color-ring: var(--color-zinc-950);

  /* Font families */
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Space Grotesk', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Animation tokens */
  --animate-fade-in: fade-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-out: fade-out 0.35s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-slide-up: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-pulse: pulse 2.5s ease-in-out infinite;
  --animate-cursor: cursor-blink 1.1s step-end infinite;

  @keyframes fade-in {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fade-out {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-12px); }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
    50% { box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
  }

  @keyframes cursor-blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
}

/* Light mode - Use dark backgrounds for contrast sections */
:root {
  /* Section backgrounds - dark in light mode for contrast */
  --color-elevated: #09090b;
  --color-elevated-foreground: #f4f4f5;
  --color-elevated-muted: #a1a1aa;
  --color-elevated-border: #27272a;
}

/* Dark mode overrides - Using subtle elevation, not harsh inversion */
.dark {
  --color-background: #0a0a0b;
  --color-foreground: #f4f4f5;
  --color-muted: #18181b;
  --color-muted-foreground: #a1a1aa;
  --color-border: #27272a;
  --color-card: #121214;
  --color-card-foreground: #f4f4f5;
  --color-primary: #f4f4f5;
  --color-primary-foreground: #0a0a0b;
  --color-accent: #1c1c1f;
  --color-accent-foreground: #f4f4f5;
  --color-ring: #f4f4f5;
  
  /* Section backgrounds - subtle elevation instead of pure white */
  --color-elevated: #121214;
  --color-elevated-foreground: #f4f4f5;
  --color-elevated-muted: #71717a;
  --color-elevated-border: #27272a;
}

/* Custom utilities */
@utility text-balance {
  text-wrap: balance;
}

@utility container-page {
  @apply max-w-[1400px] mx-auto;
}

@utility section-padding {
  @apply px-5 md:px-7 lg:px-12;
}

/* Elevated section utilities for dark mode comfort */
@utility bg-elevated {
  background-color: var(--color-elevated);
}

@utility text-elevated-foreground {
  color: var(--color-elevated-foreground);
}

@utility text-elevated-muted {
  color: var(--color-elevated-muted);
}

@utility border-elevated-border {
  border-color: var(--color-elevated-border);
}

/* Base styles */
@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: auto;
    overflow-x: hidden;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    overflow-x: hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-display tracking-tight;
  }
}

/* Microinteractions */
.magnetic {
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform;
}

/* Status dot pulse animation */
.status-dot {
  animation: pulse 2.5s ease-in-out infinite;
}

/* Terminal cursor blink */
.cursor-blink {
  animation: cursor-blink 1.1s step-end infinite;
}

/* View Transitions */
@keyframes page-out {
  to { opacity: 0; }
}

@keyframes page-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

::view-transition-old(root) {
  animation: page-out 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

::view-transition-new(root) {
  animation: page-in 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Marquee animation */
@keyframes marquee {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

.animate-marquee {
  animation: marquee 32s linear infinite;
}

/* Pause marquee on parent hover */
.group:hover .animate-marquee {
  animation-play-state: paused;
}

/* Prose/Content Styles */
.prose-wrapper {
  @apply max-w-[68ch] mx-auto px-5 md:px-8 py-20 pb-32;
}

.prose-back {
  @apply inline-flex items-center gap-2 font-mono text-sm text-muted-foreground tracking-widest mb-12 transition-all hover:text-foreground hover:-translate-x-1;
}

.prose-header {
  @apply mb-12 pb-12 border-b border-border;
}

.prose-title {
  @apply font-display font-bold text-3xl md:text-4xl lg:text-5xl tracking-tight text-foreground leading-tight mb-5 text-balance;
}

.prose-meta {
  @apply flex flex-wrap items-center gap-4;
}

.prose-date {
  @apply font-mono text-sm text-muted-foreground tracking-widest;
}

.prose-tags {
  @apply flex flex-wrap gap-2;
}

.prose-tag {
  @apply font-mono text-xs text-muted-foreground border border-border px-2.5 py-1 tracking-wide;
}

.prose-body {
  @apply text-lg leading-relaxed text-muted-foreground;
}

.prose-body h2 {
  @apply font-display font-bold text-2xl tracking-tight text-foreground mt-12 mb-4 leading-tight;
}

.prose-body h3 {
  @apply font-display font-semibold text-lg tracking-tight text-foreground mt-8 mb-3 leading-snug;
}

.prose-body h4 {
  @apply font-display font-semibold text-base text-foreground mt-6 mb-2;
}

.prose-body p {
  @apply mb-6;
}

.prose-body a {
  @apply text-foreground underline underline-offset-4 decoration-border hover:decoration-foreground transition-colors;
}

.prose-body ul,
.prose-body ol {
  @apply ml-6 mb-6;
}

.prose-body li {
  @apply mb-2;
}

.prose-body code {
  @apply font-mono text-sm bg-muted text-foreground px-1.5 py-0.5 rounded-sm;
}

.prose-body pre {
  @apply bg-zinc-950 p-6 overflow-x-auto mb-8 border border-zinc-900;
}

.prose-body pre code {
  @apply bg-transparent text-zinc-300 p-0 text-sm rounded-none;
}

.prose-body blockquote {
  @apply border-l-4 border-border pl-6 my-8 text-muted-foreground italic;
}

.prose-body img {
  @apply max-w-full h-auto my-8 border border-border;
}

.prose-body hr {
  @apply border-none border-t border-border my-12;
}

.prose-body strong {
  @apply font-semibold text-foreground;
}

/* Blog Page Styles */
.blog-page {
  @apply max-w-4xl mx-auto px-5 md:px-8 py-20 pb-32;
}

.blog-page-header {
  @apply mb-16 pb-16 border-b border-border;
}

/* Case Study Styles */
.case-hero {
  @apply px-5 md:px-8 py-20 pb-16 border-b border-border max-w-4xl mx-auto;
}

.case-num {
  @apply font-mono text-xs tracking-widest text-muted-foreground uppercase mb-6;
}

.case-title {
  @apply font-display font-bold text-4xl md:text-5xl lg:text-6xl tracking-tight text-foreground leading-tight mb-4 text-balance;
}

.case-tagline {
  @apply text-lg text-muted-foreground font-light mb-10 leading-relaxed;
}

.case-content {
  @apply max-w-4xl mx-auto px-5 md:px-8 py-16 pb-32;
}

/* Stats */
.stats-row {
  @apply grid grid-cols-3 gap-px bg-border border border-border;
}

.stat-cell {
  @apply bg-card p-5 transition-colors hover:bg-muted;
}

.stat-value {
  @apply font-display font-bold text-3xl md:text-4xl tracking-tight text-foreground mb-1;
}

.stat-label {
  @apply font-mono text-xs tracking-widest text-muted-foreground uppercase;
}

/* Writing List */
.writing-item {
  @apply grid md:grid-cols-[1fr_auto] gap-8 py-8 border-b border-border items-center transition-all hover:bg-gradient-to-r hover:from-muted hover:to-transparent hover:pl-3 hover:-ml-3;
}

.writing-date {
  @apply font-mono text-sm text-muted-foreground tracking-widest mb-2;
}

.writing-title {
  @apply font-display font-semibold text-xl text-foreground tracking-tight mb-1 transition-colors;
}

.writing-item:hover .writing-title {
  @apply text-muted-foreground;
}

.writing-excerpt {
  @apply text-base text-muted-foreground font-light max-w-prose;
}

.writing-tag {
  @apply font-mono text-xs text-muted-foreground border border-border px-3 py-1 tracking-wide whitespace-nowrap;
}

/* Project Tags */
.project-tags {
  @apply flex flex-wrap gap-2;
}

.tag-sm {
  @apply font-mono text-xs text-muted-foreground border border-border px-2 py-0.5 tracking-wide;
}

/* Stagger Reveal Animation */
@keyframes stagger-reveal {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.stagger-reveal {
  opacity: 0;
  animation: stagger-reveal 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  animation-delay: calc(var(--stagger-index, 0) * 80ms);
}

/* Section Eyebrow */
.section-eyebrow {
  @apply font-mono text-xs tracking-[0.12em] uppercase text-muted-foreground flex items-center gap-4 mb-6;
}

.section-eyebrow::before {
  @apply content-[''] w-5 h-px bg-border;
}

/* Theme Toggle Button */
.theme-toggle {
  @apply relative flex items-center justify-center w-10 h-10 rounded-full bg-muted hover:bg-accent transition-colors;
}

.theme-toggle svg {
  @apply w-5 h-5 transition-all duration-300;
}

.theme-toggle .sun-icon {
  @apply absolute rotate-0 scale-100;
}

.theme-toggle .moon-icon {
  @apply absolute rotate-90 scale-0;
}

.dark .theme-toggle .sun-icon {
  @apply rotate-90 scale-0;
}

.dark .theme-toggle .moon-icon {
  @apply rotate-0 scale-100;
}

/* Mobile Responsive Styles */
@media (max-width: 1023px) {
  .prose-wrapper {
    @apply px-5 py-16 pb-24;
  }

  .prose-title {
    @apply text-2xl;
  }

  .blog-page {
    @apply px-5 py-16 pb-24;
  }

  .blog-page-header h1 {
    @apply text-3xl;
  }

  .case-hero {
    @apply px-5 py-16 pb-12;
  }

  .case-title {
    @apply text-3xl;
  }

  .case-content {
    @apply px-5 py-12 pb-24;
  }
}

@media (max-width: 639px) {
  /* Navigation - hide desktop nav on mobile */
  nav .nav-desktop {
    @apply hidden;
  }

  /* Hero */
  .hero-title {
    @apply text-[clamp(2.75rem,11vw,4.25rem)];
  }

  /* Terminal code */
  .code-line {
    @apply text-sm leading-7;
  }

  /* Stats */
  .stat-value {
    @apply text-2xl;
  }

  .stat-label {
    @apply text-xs;
  }

  /* Projects */
  .projects-title {
    @apply text-4xl;
  }

  .projects-header {
    @apply flex-col items-start gap-5;
  }

  .project-featured {
    @apply p-6 min-h-0;
  }

  .project-featured-title {
    @apply text-2xl;
  }

  .project-card {
    @apply p-6;
  }

  /* Stack */
  .stack-section {
    @apply py-16;
  }

  .stack-title {
    @apply text-4xl;
  }

  .stack-header {
    @apply flex-col items-start;
  }

  /* About */
  .about-section {
    @apply py-16 gap-12;
  }

  .about-title {
    @apply text-4xl;
  }

  .about-cards {
    @apply grid-cols-1;
  }

  /* Writing */
  .writing-section {
    @apply py-16;
  }

  .writing-header {
    @apply flex-col items-start gap-5 mb-8;
  }

  .writing-header h2 {
    @apply text-4xl;
  }

  .writing-item {
    @apply grid-cols-1 gap-3.5;
  }

  .writing-tag {
    @apply self-start;
  }

  /* Contact */
  .contact-section {
    @apply py-16;
  }

  .contact-heading {
    @apply text-[clamp(2.25rem,9vw,3.5rem)];
  }

  .contact-link-row {
    @apply flex-col items-start gap-1 py-5;
  }

  /* Footer */
  footer {
    @apply flex-col items-start gap-6 py-8;
  }

  footer ul {
    @apply flex-wrap gap-6;
  }

  /* General */
  .section-eyebrow {
    @apply mb-8;
  }

  /* Prose pages */
  .prose-wrapper {
    @apply px-5 py-12 pb-20;
  }

  .prose-title {
    @apply text-2xl;
  }

  .blog-page {
    @apply px-5 py-12 pb-20;
  }

  .case-hero {
    @apply px-5 py-12 pb-10;
  }

  .case-title {
    @apply text-3xl;
  }

  .case-content {
    @apply px-5 py-12 pb-20;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .animate-marquee {
    animation: none;
  }
}
